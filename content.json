{"meta":{"title":"Nan's Blog","subtitle":"Nan's Blog","description":"身体健康第一，没什么值得熬夜","author":"Nan","url":"http://example.com","root":"/"},"pages":[],"posts":[{"title":"MySQL命令行实用程序","slug":"MySQL命令行实用程序","date":"2021-04-26T04:44:38.621Z","updated":"2021-05-08T13:43:42.634Z","comments":true,"path":"2021/04/26/MySQL命令行实用程序/","link":"","permalink":"http://example.com/2021/04/26/MySQL%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%AE%9E%E7%94%A8%E7%A8%8B%E5%BA%8F/","excerpt":"","text":"MySQL必知必会：https://wwe.lanzous.com/iYYaNov08dg // 此书下载链接 // 以下教程具有一定局限性，请灵活组合命令进行输出。 1、修改密码 mysqladmin -u 用户名 -p旧密码 password 新密码 2、连接MySQL 连接到本机上的MySQL：mysql -u 用户名 -p 连接到远程主机上MySQL：mysql -h 主机地址 -u 用户名 -p 用户密码 3、创建数据库 create database if not exists 数据库名; 4、显示数据库 show databases; 5、删除数据库 drop database if exists 数据库名; 6、选择数据库 use 数据库名; 7、显示表 show tables; 8、显示表的数据结构 desc 表名; 9、显示表的所有记录 select * from 表名; 10、创建表 例：创建表SC（选课表） 字段名：sno，数据类型：char(2)，约束：主键、非空，注释：学号； 字段名：cno，数据类型：char(2)，约束：主键、非空，注释：课程号； 字段名：score，数据类型：tinyint(4)，注释：成绩； create table if not exists SC( sno char(2) not null comment ‘学号’, cno char(2) not null comment ‘课程号’, score tinyint(4) comment ‘成绩’, primary key(sno,cno) ); 11、删除表 drop table 表名; 12、修改表名 alter table 旧表名 rename to 新表名; 13、修改字段名 alter table 表名 change 旧字段名 新字段名 新数据类型; 14、修改字段类型 例：对某字段进行修改 //column可以省略 alter table 表名 modify column 字段名 新数据类型 新类型长度 新默认值 新注释; 15、添加数据表字段 alter table 表名 add 字段名 数据类型; 16、删除数据表字段 alter table 表名 drop 字段名; 17、修改字段排序 // 将此字段提到字段列表最前 alter table 表名 modify 字段名 数据类型 first; // 将此字段排在指定字段之后 alter table 表名 modify 字段名 数据类型 after 字段名; 18、显示存储引擎 show engines; 19、更改存储引擎 alter table 数据表名 engine=存储引擎; 20、显示表使用的存储引擎 show create table 数据表名; 21、完全拷贝数据表 create table if not exists 新数据表名 like 被拷贝的数据表名; 22、部分拷贝数据表 create table if not exists 新数据表名 as select 字段名,字段名 from 被拷贝的数据表名; // 参考教程：MySQL中快速复制数据表方法汇总 - 我曾如此奢望 - 博客园 (cnblogs.com) 23、查看索引 show index from 表名； // 参考教程：MySQL查看索引（SHOW INDEX） (biancheng.net) 24、查看表中的约束 show create table 表名; 25、非空约束 // 创建表时设置非空约束 create table 表名(字段名 数据类型 not null); // 修改表时添加非空约束 alter table 表名 change column 字段名 字段名 数据类型 not null; // 删除非空约束 alter table 表名 change column 字段名 字段名 数据类型 null; // 参考教程：MySQL非空约束（NOT NULL） (biancheng.net) 26、唯一约束 // 创建表时设置唯一约束 create table 表名(字段名 数据类型 not null unique ); // 修改表时添加唯一约束 alter table 表名 add constraint 唯一约束名 unique(字段名); // 删除唯一约束 alter table 表名 drop index 唯一约束名; // 参考教程：MySQL唯一约束（UNIQUE KEY） (biancheng.net) 27、默认约束 // 创建表时设置默认约束 create table 表名(字段名 数据类型 default ‘默认值’); // 修改表时添加默认约束 alter table 表名 change column 字段名 数据类型 default ‘默认值’; // 删除默认约束 alter table 表名 change column 字段名 字段名 数据类型 default null; // 参考教程：MySQL默认值（DEFAULT） (biancheng.net) 28、主键约束 // 创建表时设置主键约束 ① create table 表名(字段名 数据类型 primary key); ② create table 表名(字段名 数据类型 ,primary key(主码)); // 组合主键约束 ③ create table 表名(字段名 数据类型,primary key(主码,主码)); // 添加主键约束 alter table 表名 add primary key(主码); // 修改主键约束 alter table 表名 drop primary key,add primary key(主码); // 删除主键约束 alter table 表名 drop primary key; // 参考教程：MySQL主键（PRIMARY KEY） (biancheng.net) 29、自增约束 // 创建表时设置自增约束 create table 表名(字段名 数据类型 约束条件 auto_increment); // 参考教程：MySQL AUTO_INCREMENT：主键自增长 (biancheng.net) 30、外键约束 定义外键时，需要遵守下列规则： 主表必须已经存在于数据库中，或者是当前正在创建的表。如果是后一种情况，则主表与从表是同一个表，这样的表称为自参照表，这种结构称为自参照完整性。 必须为主表定义主键。 主键不能包含空值，但允许在外键中出现空值。也就是说，只要外键的每个非空值出现在指定的主键中，这个外键的内容就是正确的。 在主表的表名后面指定列名或列名的组合。这个列或列的组合必须是主表的主键或候选键。 外键中列的数目必须和主表的主键中列的数目相同。 外键中列的数据类型必须和主表主键中对应列的数据类型相同。 // 级联选项取值：cascade、set null、no action、restrict // 创建表时设置外键约束 create table 表名(字段名 数据类型,字段名 数据类型,主键约束,constraint 约束条件名 foreign key(字段名) references 表名(主表主码)); // 修改表时添加外键约束 alter table 表名 add foreign key(主码) references 表名(主码) on update 级联选项值 on delete 级联选项值; // 删除外键约束 alter table 表名 drop foreign key 外键约束名; // 参考教程： MySQL外键约束（FOREIGN KEY） (biancheng.net) MySql 外键约束 之CASCADE、SET NULL、RESTRICT、NO ACTION分析和作用 - yzuzhang - 博客园 (cnblogs.com) 31、插入数据 insert into 表名(字段名1,字段名2…) values(值1,值2…);insert into 表名 values(值1,值2…); 32、更新数据 update 表名 set 字段名1=值1,字段名2=值2… where 条件表达式; 33、删除数据 delete from 表名 where 条件表达式; 34、查询数据 select * from 表名;select 字段名1,字段名2 from 表名;","categories":[{"name":"教程","slug":"教程","permalink":"http://example.com/categories/%E6%95%99%E7%A8%8B/"}],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"http://example.com/tags/MySQL/"}]}],"categories":[{"name":"教程","slug":"教程","permalink":"http://example.com/categories/%E6%95%99%E7%A8%8B/"}],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"http://example.com/tags/MySQL/"}]}